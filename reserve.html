<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="Shortcut Icon" type="image/x-icon" href="pic/all/favicon.ico" />
    <title>喵咪小廚</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/reserve.css">

</head>

<body>
    <header id='header_small' class="header_box">
        <!-- header_small -->
        <h1 class="displaynone">喵咪小廚</h1>
        <a id="logo" href="index.html"><img src="pic/all/LOGO.png" alt="喵咪小廚"></a>
        <input type="checkbox" name="input_nav" id="input_nav" class="displaynone">
        <label class="nav_burger" for="input_nav"><span></span></label>
        <nav class="noto">
            <h6 class="displaynone">主選單</h6>
            <a href="index.html"><img src="pic/all/LOGO.png" alt="喵咪小廚"></a>
            <ul>
                <li><a href="special.html">特色 <p class="lemo">special</p> </a></li>
                <li><a href="menu.html">料理 <p class="lemo">menu</p> </a></li>
                <li><a id='choose' href="reserve.html">預約 <p class="lemo">reserve</p> </a></li>
                <li><a href="present.html">禮品 <p class="lemo">present</p> </a></li>
                <li class="ul_socialocon">
                    <a href="#"><img src="pic/all/021-line.png" alt="line"></a>
                    <a href="#"><img src="pic/all/021-twitter.png" alt="twitter"></a>
                    <a href="#"><img src="pic/all/021-facebook.png" alt="facebook"></a>
                    <a href="#"><img src="pic/all/021-instagram.png" alt="instagram"></a>
                </li>
            </ul>
            <div class="clearfix"></div>
            
        <label class="nav_fix" for="input_nav"></label>
        </nav>
    </header>

    <section class="section_banner">
        <div class="banner_title ">
            <h2 class="noto">預約</h2>
            <h3 class="lemo">Reserve</h3>
        </div>
        <div class="title_logo">
            <div class="logo_move">
                <img class="logo_cake" src="pic/reserve/logocakecat.png" alt="蛋糕貓">
                <img class="logo_main" src="pic/special/logocat.png" alt="logo">
                <img class="logo_pen" src="pic/reserve/logopencat.png" alt="煎蛋貓">
            </div>
        </div>
    </section>

    <section class="section_store">
        <div class="order_title title_box noto">
            <h3>選擇店面</h3>
            <label id="restore" for="clearstore">另一家好像比較好？</label>
        </div>
        <div class="store_box">
            <input type="radio" name="input_store" class="input_store" id="input_storeboss1">
            <input type="radio" name="input_store" class="input_store" id="input_storeboss2">
            <input type="radio" name="input_store" class="input_store" id='clearstore'>
            <label class="label_storeboss1 labelhover" for="input_storeboss1">
                <div class="store_text">
                    <h2 class="noto">喵咪驛站</h2>
                    <p class="noto">歡迎光臨</p>
                </div>
                <img src="pic/reserve/cat1boss.png" alt="老闆一號">
            </label>
            <label class="label_storeboss2 labelhover" for="input_storeboss2">
                <div class="store_text">
                    <h2 class="noto">喵咪小廚</h2>
                    <p class="noto">歡迎光臨</p>
                </div>
                <img src="pic/reserve/cat2boss.png" alt="老闆二號">
            </label>
        </div>
    </section>
    <section class="section_order noto">
        <div class="order_title title_box">
            <h3 class="noto">預約時間</h3>
            <p>由於會受到當季食材等因素影響，為提供最優質的服務目前僅提供30天內的預約</p>
        </div>
        <div class="order_date">
            <form action="">
                <h2 id="choosestore">選擇店面</h2>

                <div class="order_radiobox">
                    <div class="radio_box">
                        <input type="radio" name="num" id="booking_num2" required><label for="booking_num2">兩人桌</label>
                    </div>
                    <div class="radio_box">
                        <input type="radio" name="num" id="booking_num4"><label for="booking_num4">四人桌</label>
                    </div>
                    <div class="radio_box">
                        <input type="radio" name="num" id="booking_num8"><label for="booking_num8">八人桌</label>
                    </div>
                </div>
                <select id="booking_select" class="phone_displaynone" name="bookingdate" required>
                    <option value="">請選擇日期</option>
                </select>
                <table class="table_order table_displaynone">
                    <script>
                        var timenow = new Date;
                        var yy = timenow.getFullYear();
                        var mm = timenow.getMonth() + 1;
                        var dd = timenow.getDate();
                        var options = new Option;
                        var week = ['日', '一', '二', '三', '四', '五', '六']
                        var phonebooking = document.getElementById('booking_select');
                        var checkweek = timenow.getDay();
                        document.write(`<caption>預約時段${yy}年${mm}月</caption>`);
                        document.write('<tr>');
                        document.write('<th>星期日</th><th>星期一</th><th>星期二</th><th>星期三</th><th>星期四</th><th>星期五</th><th>星期六</th></tr><tr>')
                        for (let i = 0; i < checkweek; i++) {
                            document.write(`<td></td>`)
                        }
                        checkweek++;
                        for (let i = 1; i <= 31; i++) {
                            // 
                            if (mm - 1 == 0 || mm - 1 == 2 || mm - 1 == 4 || mm - 1 == 6 || mm - 1 == 7 || mm - 1 == 9 || mm - 1 == 11) {
                                dd = (dd % 32);
                            } else if (mm - 1 == 3 || mm - 1 == 5 || mm - 1 == 8 || mm - 1 == 10) {
                                dd = (dd % 31);
                            } else {
                                if (yy % 400 == 0) {
                                    dd = (dd % 30);
                                } else if (yy % 100 == 0) {
                                    dd = (dd % 29);
                                } else if (yy % 4 == 0) {
                                    dd = (dd % 30);
                                } else {
                                    dd = (dd % 29);
                                }
                            }
                            if (dd == 0) {
                                timenow.setMonth(mm);
                                dd += 1;
                                mm += 1;
                                document.getElementsByTagName('caption')[0].innerText += `至${mm}月`;
                            }
                            if (mm == 13) {
                                mm = 1;
                                yy += 1;
                                timenow.setMonth(yy);
                            }
                            // 
                            timenow.setDate(dd);
                            options = new Option(`${yy - 1911}年${mm}月${dd}日，星期${week[timenow.getDay()]}`, `${yy}-${mm}-${dd}`);
                            phonebooking.add(options);
                            document.write(`<td class="${timenow.getDay()}${yy}+${mm}-${dd}=">`);
                            document.write(`${dd}日</td>`);
                            dd++;
                            if (checkweek % 7 == 0 && checkweek != 0) {
                                document.write('</tr>', '<tr>');
                            }
                            checkweek++;
                        }
                        document.write('</tr>');

                    </script>
                </table>
                <div class="order_info">
                    <div class="order_datetable table_displaynone">
                        <p>預約時間</p>
                        <input type="text" name="booking_time" id="booking_time" required readonly placeholder="請點選日曆">
                    </div>


                    <select name="order_hour" id="order_hour" required>
                        <option value="">請選擇時間</option>
                        <option value="11:30">11點30</option>
                        <option value="11:30">12點00</option>
                        <option value="11:30">12點30</option>
                        <option value="11:30">13點00</option>
                        <option value="11:30">13點30</option>
                        <option value="11:30">14點00</option>
                        <option value="11:30">14點30</option>
                        <option value="11:30">15點00</option>
                        <option value="11:30">15點30</option>
                        <option value="11:30">16點00</option>
                        <option value="11:30">16點30</option>
                        <option value="11:30">17點00</option>
                        <option value="11:30">17點30</option>
                        <option value="11:30">18點00</option>
                        <option value="11:30">18點30</option>
                        <option value="11:30">19點00</option>
                        <option value="11:30">19點30</option>
                        <option value="11:30">20點00</option>
                    </select>

                    <p>姓名</p>
                    <input type="text" name="booking_name" id="booking_name" required>

                    <p>電話</p>
                    <input type="number" name="booking_phone" id="booking_phone" required placeholder="國際電話請加國際碼">
                    <p>備註</p>
                    <input type="text" name="booking_more" id="booking_more" placeholder="例：窗邊、預定餐點等">
                    <input id="booking_submit" type="submit" value="立刻預約">
                </div>
            </form>
        </div>
    </section>
    <section class="section_footer noto">
        <div class="footer_box">
            <a href="index.html"><img src="pic/all/LOGO.png" alt="貓咪小廚"></a>
            <a href="#">最新消息</a>
            <a href="#">經營理念</a>
            <a href="#">捐款歷史</a>
            <a href="#">企業資訊</a>
            <a href="#">我要應徵</a>
        </div>
    </section>


    <footer>&copy;copy by 喵咪小廚 2019</footer>

    <script src="js/reserve.js"></script>
    <script>
        window.addEventListener('load', init, false);
        window.addEventListener('resize', reSize, false);
        window.addEventListener('scroll', scrollTop, false);

        function init() {
            reSize();
            if (document.documentElement.clientWidth >= 768) {
                document.getElementById('booking_select').disabled = true;
                tableDate();
            } else {
                document.getElementById('booking_time').disabled = true;
            }
            choosestore();
        }

        function scrollTop() {
            var viewScroll = document.documentElement.scrollTop; //偵測滑鼠滾動位置
            var viewhight = parseInt(window.outerHeight) //偵測物件所在高度
            var header_small = document.getElementById('header_small');
            if (viewScroll > 200) {
                header_small.classList.add('header_small');
            } else {

                header_small.classList.remove('header_small');
            }
        }

        function reSize() {
            tdResize();

            // console.log('啟動');
        }
    </script>
</body>

</html>